{% extends 'base.html' %}
{% load static %}
{% block title %}COCO - 管理頁面{% endblock %}

{% block content %}
<!-- 最新贊助區 -->
{% if user.is_staff %}
<div class="container marketing py-5 bg-light fade-in-up">
  <div class="container marketing py-5 fade-in-up">
    <a href="{% url 'check_sponsorship' %}" class="btn btn-primary">贊助</a>
    <a href="{% url 'check_activity' %}" class="btn btn-primary">活動</a>
    <h2 class="text-center mb-4">活動列表</h2>
    <div class="table-responsive">
      <table class="table table-bordered table-hover animate-card">
        <thead class="table-light">
          <tr>
            <th scope="col">圖片</th>
            <th scope="col">活動名稱</th>
            <th scope="col">活動詳情</th>
            <th scope="col">活動日期</th>
            <th scope="col">活動地點</th>
            <th scope="col">審核狀態</th>
          </tr>
        </thead>
        <tbody>
          {% for activity in activities %}
            <tr>
              <td><img src="{{ activity.image.url }}" class="img-thumbnail" alt="{{ activity.title }}" style="max-width: 150px;"></td>
              <td>
                <a href="{% url 'activity_detail' activity.id %}" class="text-decoration-none text-dark">{{ activity.title }}</a>
              </td>
              <td>{{ activity.description }}</td>
              <td>{{ activity.location }}</td>
              <td>{{ activity.date }}</td>
              <td>
                {% if activity.check_status %}<i class="fas fa-heart"></i> 審核完成{% else %}<i class="far fa-heart"></i> 審核中{% endif %}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  <div class="text-center mt-4">
    <a href="#" class="btn btn-primary animate-button">查看更多贊助</a>
  </div>
</div>

<hr class="featurette-divider">
</div>
{% else %}
<h2>Please Login First</h2>
{% endif %}


<style>
  /* General Animation */
  .fade-in-up {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease, transform 0.6s ease;
  }
  .fade-in-up.active {
    opacity: 1;
    transform: translateY(0);
  }

  /* 卡片陰影與懸浮效果 */
  .animate-card {
    transition: transform 0.3s, box-shadow 0.3s;
  }
  .animate-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
  }

  /* 按鈕動畫 */
  .animate-button {
    transition: transform 0.2s ease, background-color 0.2s;
  }
  .animate-button:hover {
    transform: scale(1.05);
    background-color: #0056b3;
  }

  /* 卡片圖片淡入效果 */
  .card-img-fade {
    transition: opacity 0.4s ease;
  }
  .card-img-fade:hover {
    opacity: 0.85;
  }
</style>


<script>
  document.addEventListener('DOMContentLoaded', function() {
    const fadeElems = document.querySelectorAll('.fade-in-up');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('active');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });
    fadeElems.forEach(elem => observer.observe(elem));
  });
</script>
{% endblock %}
